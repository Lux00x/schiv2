CREATE TABLE  "SCHIV2_FACULTIES" 
   (	"FACULTYID" NUMBER(3,0) NOT NULL ENABLE, 
	"FACULTY" VARCHAR2(255) NOT NULL ENABLE, 
	 CONSTRAINT "SCHIV2_FACULTIES_PK" PRIMARY KEY ("FACULTYID") ENABLE
   ) ;

CREATE OR REPLACE TRIGGER  "BI_SCHIV2_FACULTIES" 
  before insert on "SCHIV2_FACULTIES"               
  for each row  
begin   
  if :NEW."FACULITYID" is null then 
    select "SCHIV2_FACULTIES_SEQ".nextval into :NEW."FACULTYID" from sys.dual; 
  end if; 
end;
/
ALTER TRIGGER  "BI_SCHIV2_FACULTIES" ENABLE;




CREATE TABLE  "SCHIV2_USERS" 
   (	"USERID" NUMBER(10,0) NOT NULL ENABLE, 
	"FIRSTNAME" VARCHAR2(64) NOT NULL ENABLE, 
	"LASTNAME" VARCHAR2(64) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(255) NOT NULL ENABLE, 
	"PASSWORDHASH" CHAR(64) NOT NULL ENABLE, 
	"DOZENT" NUMBER(1,0) NOT NULL ENABLE, 
	"ADMIN" NUMBER(1,0) NOT NULL ENABLE, 
	"DISABLED" NUMBER(1,0) NOT NULL ENABLE, 
	"FACULTYID" NUMBER(3,0), 
	 CONSTRAINT "SCHIV2_USERS_PK" PRIMARY KEY ("USERID") ENABLE
   ) ;
 ALTER TABLE  "SCHIV2_USERS" ADD CONSTRAINT "SCHIV2_FACULITYID_FK" FOREIGN KEY ("FACULTYID")
	  REFERENCES  "SCHIV2_FACULTIES" ("FACULTYID") ENABLE;

CREATE OR REPLACE TRIGGER  "BI_SCHIV2_USERS" 
  before insert on "SCHIV2_USERS"               
  for each row  
begin   
  if :NEW."USERID" is null then 
    select "SCHIV2_USERS_SEQ".nextval into :NEW."USERID" from sys.dual; 
  end if; 
end;
/
ALTER TRIGGER  "BI_SCHIV2_USERS" ENABLE;
 



